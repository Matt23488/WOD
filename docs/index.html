<!DOCTYPE html>
<html>
    <head>
        <!-- Boostrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <!-- jQuery Cookies -->
        <script src="lib/jquery.cookie-1.4.1.min.js"></script>
        <!-- KnockoutJS -->
        <script src="lib/knockout-3.5.0.min.js"></script>
        <!-- SweetAlert -->
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <!-- <script src="lib/sweetalert.min.js"></script> -->
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <!-- Custom  Styles -->
        <link rel="stylesheet" href="css/site.css">
        <!-- favicon stuff -->
        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <link rel="manifest" href="site.webmanifest">
        <meta name="apple-mobile-web-app-title" content="WOD Characters">
        <meta name="application-name" content="WOD Characters">
        <meta name="msapplication-TileColor" content="#1e1e1e">
        <meta name="theme-color" content="#1e1e1e">
    </head>
    <body>
        <!-- This is for preloading the images -->
        <div class="HIDDEN">
            <img src="images/dice-1.png" />
            <img src="images/dice-2.png" />
            <img src="images/dice-3.png" />
            <img src="images/dice-4.png" />
            <img src="images/dice-5.png" />
            <img src="images/dice-6.png" />
            <img src="images/dice-7.png" />
            <img src="images/dice-8.png" />
            <img src="images/dice-9.png" />
            <img src="images/dice-10.png" />
            <img src="images/none.png" />
            <img src="images/bashing.png" />
            <img src="images/bashing-lt.png" />
            <img src="images/lethal.png" />
            <img src="images/lethal-lt.png" />
            <img src="images/aggravated.png" />
            <img src="images/aggravated-lt.png" />
        </div>
        <!-- <div class="toolbar">
            <button class="btn btn-lg btn-outline btn-outline-light" data-bind="click: goBack, visible: mode() !== 'list'"><i class="fas fa-arrow-left"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-light" data-bind="click: toggleClock"><i class="fas fa-clock"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-primary" data-bind="click: switchMode('dice'), visible: mode() === 'sheet'"><i class="fas fa-dice"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-primary" data-bind="click: switchMode('notes'), visible: mode() === 'sheet'"><i class="fas fa-clipboard"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-success" data-bind="click: saveCharacters"><i class="fas fa-save"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-success" data-bind="click: downloadCharacter, visible: mode() === 'sheet'"><i class="fas fa-download"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-success" data-bind="click: uploadCharacter, visible: mode() === 'list'"><i class="fas fa-upload"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-danger" data-bind="click: deleteCharacter, visible: mode() === 'sheet'"><i class="fas fa-trash-alt"></i></button>
            <button class="btn btn-lg btn-outline" data-bind="click: toggleCharacterLock, class: lockButtonClass, visible: mode() !== 'list'"><i data-bind="class: lockButtonIcon"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-light" data-bind="click: undo, visible: mode() !== 'list' && mode() !== 'dice', enable: canUndo"><i class="fas fa-undo-alt"></i></button>
            <button class="btn btn-lg btn-outline btn-outline-light" data-bind="click: redo, visible: mode() !== 'list' && mode() !== 'dice', enable: canRedo"><i class="fas fa-redo-alt"></i></button>
        </div> -->
        <div class="toolbar">
            <button class="btn-icon" data-bind="click: goBack, visible: mode() !== 'list'"><i class="fas fa-arrow-left"></i></button>
            <button class="btn-icon" data-bind="click: toggleClock"><i class="fas fa-clock"></i></button>
            <button class="btn-icon" data-bind="click: switchMode('dice'), visible: mode() === 'sheet'"><i class="fas fa-dice"></i></button>
            <button class="btn-icon" data-bind="click: switchMode('notes'), visible: mode() === 'sheet'"><i class="fas fa-clipboard"></i></button>
            <button class="btn-icon" data-bind="click: saveCharacters"><i class="fas fa-save"></i></button>
            <button class="btn-icon" data-bind="click: downloadCharacter, visible: mode() === 'sheet'"><i class="fas fa-download"></i></button>
            <button class="btn-icon" data-bind="click: uploadCharacter, visible: mode() === 'list'"><i class="fas fa-upload"></i></button>
            <button class="btn-icon" data-bind="click: deleteCharacter, visible: mode() === 'sheet'"><i class="fas fa-trash-alt"></i></button>
            <button class="btn-icon" data-bind="click: switchMode('connection'), visible: mode() === 'sheet'"><i class="fas fa-wifi"></i></button>
            <button class="btn-icon" data-bind="click: toggleCharacterLock, visible: mode() !== 'list'"><i data-bind="class: lockButtonIcon"></i></button>
            <button class="btn-icon" data-bind="click: undo, visible: mode() !== 'list' && mode() !== 'dice', enable: canUndo"><i class="fas fa-undo-alt"></i></button>
            <button class="btn-icon" data-bind="click: redo, visible: mode() !== 'list' && mode() !== 'dice', enable: canRedo"><i class="fas fa-redo-alt"></i></button>
        </div>
        <!-- <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menuBar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="menuBar" data-bind="with: menuBar">
                <-- TODO: Maybe remove the custom binding and do this with foreach loops here since it's HTML and Bootstrap that doesn't belong in JS code. ->
                <ul class="navbar-nav" data-bind="foreach: menus">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" data-bind="text: text"></a>
                        <div class="dropdown-menu" data-bind="foreach: options">
                            <a class="dropdown-item" href="#" data-bind="enabled: enabled, text: text, click: doCommand"></a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav> -->
        <div class="clock" data-bind="style: { opacity: showClock() ? '1' : '0' }, text: currentTimeDisplay"></div>
        <!-- <div class="clockContainer">
        </div> -->
        <div class="container-fluid body-content">
            <div class="listContainer" data-bind="visible: mode() === 'list'">
                <h1>Characters <button class="btn-icon" data-bind="click: newCharacter"><i class="fas fa-plus"></i></button></h1>
                <ul class="characterList" data-bind="foreach: realCharacters">
                    <li class="clickable pointer label" data-bind="text: name, click: $root.selectCharacter.bind($root)"></li>
                </ul>
            </div>

            <div class="connectionContainer" data-bind="visible: mode() === 'connection', using: character().connection">
                <div class="form-group"><label class="label">Server Address:</label> <input class="form-control" type="text" data-bind="textInput: serverAddress" /></div>
                <button class="btn btn-lg btn-outline btn-outline-light" data-bind="text: connectButtonText, click: connectButtonClick"></button>

                <div data-bind="visible: connected">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#chatUsers">Users</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#chatGroup">Group Chat</a>
                        </li>
                        <!-- ko foreach: chatWindows -->
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" data-bind="attr: { href: domID }, class: domClass, text: domText"></a>
                        </li>
                        <!-- /ko -->
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane container active" id="chatUsers">
                            <ul class="list-group" data-bind="foreach: users">
                                <li class="list-group-item list-group-item-dark" data-bind="text: screenName"></li>
                            </ul>
                        </div>
                        <div class="tab-pane container fade" id="chatGroup" data-bind="using: groupChat">
                            <ul class="list-group" data-bind="foreach: messages">
                                <li class="list-group-item list-group-item-dark" data-bind="text: messageText"></li>
                            </ul>
                        </div>
                        <!-- ko foreach: chatWindows -->
                        <div class="tab-pane container fade" data-bind="attr: { id: domID }">
                            <ul class="list-group" data-bind="foreach: messages">
                                <li class="list-group-item list-group-item-dark" data-bind="text: messageText"></li>
                            </ul>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>

            <div class="characterContainer" data-bind="visible: mode() === 'sheet', using: character">
                <h2>Character Sheet</h2>
                <div class="row">
                    <div class="col-lg">
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Name:</label> <input class="form-control" type="text" data-bind="undoableTextInput: name" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Player:</label> <input class="form-control" type="text" data-bind="undoableTextInput: player" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Age:</label> <input class="form-control" type="number" data-bind="undoableTextInput: age" /></div>
                    </div>
                    <div class="col-lg">
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Vice:</label> <input class="form-control" type="text" data-bind="undoableTextInput: vice" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Virtue:</label> <input class="form-control" type="text" data-bind="undoableTextInput: virtue" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Origins:</label> <input class="form-control" type="text" data-bind="undoableTextInput: origins" /></div>
                    </div>
                    <div class="col-lg">
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Gender:</label> <input class="form-control" type="text" data-bind="undoableTextInput: gender" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Concept:</label> <input class="form-control" type="text" data-bind="undoableTextInput: concept" /></div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick"><label class="label">Chronicle:</label> <input class="form-control" type="text" data-bind="undoableTextInput: chronicle" /></div>
                    </div>
                </div>
                <br />
                <h2>Base Stats</h2>
                <div class="row">
                    <div class="col-lg">
                        <div class="row">
                            <div class="col"><label>Intelligence:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: intelligence, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Wits:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: wits, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Resolve:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: resolve, max: 5, canClear: false }"></div></div>
                        </div>
                    </div>
                    <div class="col-lg">
                        <div class="row">
                            <div class="col"><label>Strength:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: strength, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Dexterity:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: dexterity, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Stamina:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: stamina, max: 5, canClear: false }"></div></div>
                        </div>
                    </div>
                    <div class="col-lg">
                        <div class="row">
                            <div class="col"><label>Presence:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: presence, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Manipulation:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: manipulation, max: 5, canClear: false }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Composure:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: composure, max: 5, canClear: false }"></div></div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg">
                        <h2>Health <button class="btn-icon" data-bind="click: damage.clearAll.bind(damage)"><i class="fas fa-medkit"></i></button></h2>
                        <div class="col-12"><label>Total:</label></div>
                        <div class="col-12"><div data-bind="readOnlyAttribute: { value: health, max: 15, hideUnfilled: true }"></div></div>
                        <br />
                        <div class="col-12"><label>Damage:</label></div>
                        <div class="col-12"><div data-bind="damageDisplay: damage"></div></div>
                        <br />
                        <div class="col-12" data-bind="with: damage">
                            <div class="btn-group">
                                <button class="btn btn-outline-light" data-bind="click: addBashing">Bashing</button>
                                <button class="btn btn-outline-light" data-bind="click: addLethal">Lethal</button>
                                <button class="btn btn-outline-light" data-bind="click: addAggravated">Aggravated</button>
                            </div>
                        </div>
                        <br />
                    </div>
                    <div class="col-lg">
                        <h2>Magic <button class="btn-icon" data-bind="click: clearUsed(usedMagic)"><i class="fas fa-medkit"></i></button></h2>
                        <div class="col-12"><label>Total:</label></div>
                        <div class="col-12"><div data-bind="readOnlyAttribute: { value: magic, max: 10, hideUnfilled: true }"></div></div>
                        <br />
                        <div class="col-12"><label>Used:</label></div>
                        <div class="col-12"><div data-bind="used: { value: usedMagic, total: magic }"></div></div>
                        <br />
                    </div>
                    <div class="col-lg">
                        <h2>Willpower <button class="btn-icon" data-bind="click: clearUsed(usedWillpower)"><i class="fas fa-medkit"></i></button></h2>
                        <div class="col-12"><label>Total:</label></div>
                        <div class="col-12"><div data-bind="readOnlyAttribute: { value: willpower, max: 10, hideUnfilled: true }"></div></div>
                        <br />
                        <div class="col-12"><label>Used:</label></div>
                        <div class="col-12"><div data-bind="used: { value: usedWillpower, total: willpower }"></div></div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg">
                        <h2>Mental <small>(-3 Unskilled)</small></h2>
                        <div class="row">
                            <div class="col"><label>Academics:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: academics, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Robotics:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: robotics, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Crafts:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: crafts, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Investigation:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: investigation, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Medicine:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: medicine, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Occult:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: occult, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Politics:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: politics, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Science:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: science, max: 5 }"></div></div>
                        </div>
                        <br />
                    </div>
                    <div class="col-lg">
                        <h2>Physical <small>(-1 Unskilled)</small></h2>
                        <div class="row">
                            <div class="col"><label>Athletics:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: athletics, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Brawl:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: brawl, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Drive:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: drive, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Ranged:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: ranged, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Larceny:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: larceny, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Stealth:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: stealth, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Survival:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: survival, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Weaponry:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: weaponry, max: 5 }"></div></div>
                        </div>
                        <br />
                    </div>
                    <div class="col-lg">
                        <h2>Social <small>(-1 Unskilled)</small></h2>
                        <div class="row">
                            <div class="col"><label>Animal Ken:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: animalKen, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Empathy:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: empathy, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Expression:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: expression, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Intimidation:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: intimidation, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Persuasion:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: persuasion, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Socialize:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: socialize, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Streetwise:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: streetwise, max: 5 }"></div></div>
                        </div>
                        <div class="row">
                            <div class="col"><label>Subterfuge:</label></div>
                            <div class="col"><div class="attribute" data-bind="attribute: { value: subterfuge, max: 5 }"></div></div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div id="merits" class="col-lg clickable pointer" data-bind="click: $root.switchMode('merits').bind($root)">
                        <h2 class="label">Merits</h2>
                        <div class="row" data-bind="visible: merits().length === 0">
                            <div class="col"><span style="font-style: italic;">None</span></div>
                        </div>
                        <!-- ko foreach: merits -->
                        <div class="row">
                            <div class="col"><label data-bind="text: name"></label></div>
                            <div class="col"><div data-bind="readOnlyAttribute: { value: value, max: 5 }"></div></div>
                        </div>
                        <!-- /ko -->
                        <br />
                    </div>
                    <div id="spells" class="col-lg clickable pointer" data-bind="click: $root.switchMode('spells').bind($root)">
                        <h2 class="label">Spells</h2>
                        <div class="row" data-bind="visible: spells().length === 0">
                            <div class="col"><span style="font-style: italic;">None</span></div>
                        </div>
                        <!-- ko foreach: spells -->
                        <div class="row">
                            <div class="col"><label data-bind="text: name"></label></div>
                            <div class="col"><div data-bind="readOnlyAttribute: { value: value, max: 5 }"></div></div>
                        </div>
                        <!-- /ko -->
                        <br />
                    </div>
                    <div id="flaws" class="col-lg clickable pointer" data-bind="click: $root.switchMode('flaws').bind($root)">
                        <h2 class="label">Flaws</h2>
                        <div class="row" data-bind="visible: flaws().length === 0">
                            <div class="col"><span style="font-style: italic;">None</span></div>
                        </div>
                        <!-- ko foreach: flaws -->
                        <div class="row">
                            <div class="col"><label data-bind="text: name"></label></div>
                            <div class="col"><div data-bind="readOnlyAttribute: { value: value, max: 5 }"></div></div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg">
                        <h2>Other Stats</h2>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick">
                            <label class="label">Size:</label>
                            <input class="form-control" type="number" data-bind="undoableTextInput: size" />
                        </div>
                        <div class="form-group">
                            <label>Speed:</label>
                            <span class="form-control" data-bind="text: speed"></span>
                        </div>
                        <div class="form-group">
                            <label>Defense:</label>
                            <span class="form-control" data-bind="text: defense"></span>
                        </div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick">
                            <label class="label">Armor:</label>
                            <input class="form-control" type="number" data-bind="undoableTextInput: armor" />
                        </div>
                        <div class="form-group">
                            <label>Initiative:</label>
                            <span class="form-control" data-bind="text: initiative"></span>
                        </div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick">
                            <label class="label">Experience:</label>
                            <input class="form-control" type="number" data-bind="undoableTextInput: experience" />
                        </div>
                        <div class="form-group clickable pointer" data-bind="click: onComponentClick">
                            <label class="label">Morality:</label>
                            <input class="form-control" type="number" data-bind="undoableTextInput: morality" />
                        </div>
                        <br />
                    </div>
                    <div id="weapons" class="col-lg clickable pointer" data-bind="click: $root.switchMode('weapons').bind($root)">
                        <h2 class="label">Weapons</h2>
                        <span style="font-style: italic;" data-bind="visible: weapons().length === 0">None</span>
                        <div class="row font20" data-bind="foreach: weapons">
                            <div class="col-lg" data-bind="text: name"></div>
                        </div>
                        <br />
                    </div>
                    <div id="equipment" class="col-lg clickable pointer" data-bind="click: $root.switchMode('equipment').bind($root)">
                        <h2 class="label">Equipment</h2>
                        <span style="font-style: italic;" data-bind="visible: equipment().length === 0">None</span>
                        <div class="row font20" data-bind="foreach: equipment">
                            <div class="col-lg" data-bind="text: name"></div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div id="inventory" class="col clickable pointer" data-bind="click: $root.switchMode('inventory').bind($root)">
                        <h2 class="label">Inventory</h2>
                        <span style="font-style: italic;" data-bind="visible: inventory().length === 0">None</span>
                        <div class="row font20" data-bind="foreach: inventory">
                            <div class="col-lg" data-bind="text: displayText"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="diceContainer" data-bind="visible: mode() === 'dice', with: dice">
                <h1>Roll Dice</h1>
                <div class="btn-group">
                    <button class="btn btn-lg btn-outline-light" data-bind="click: incrementDicePool(-1), contextMenu: incrementDicePool(-10)"><i class="fas fa-minus"></i></button>
                    <button class="btn btn-lg btn-outline-light" style="padding-left: 20px; padding-right: 20px;" data-bind="click: rollDice, text: dicePool"></button>
                    <button class="btn btn-lg btn-outline-light" data-bind="click: incrementDicePool(1), contextMenu: incrementDicePool(10)"><i class="fas fa-plus"></i></button>
                </div>
                <br />
                <br />
                <button class="btn btn-lg btn-outline-light" data-bind="click: rollDice"><i class="fas fa-check"></i> Roll!</button>
                <span style="font-size: 1.3em; margin-left: 10px;">
                    <label>Total Successes:</label>
                    <span data-bind="text: totalDiceSuccessesDisplay"></span>
                </span>
                <div data-bind="dice: rollRounds"></div>
            </div>

            <div class="notesContainer" data-bind="visible: mode() === 'notes', with: character">
                <h1>Notes <button type="button" class="btn-icon" data-bind="click: newItem(notes, constructors.Note)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: notes">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.notes, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.notes, 1), enable: $index() < $parent.notes().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.notes)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><textarea class="form-control" data-bind="undoableTextInput: value, focusOnCreation"></textarea></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="meritsContainer" data-bind="visible: mode() === 'merits', with: character">
                <h1>Merits <button type="button" class="btn-icon" data-bind="click: newItem(merits, constructors.Merit)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Value</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: merits">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.merits, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.merits, 1), enable: $index() < $parent.merits().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.merits)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><div class="attribute" data-bind="attribute: { value: value, max: 5 }"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="spellsContainer" data-bind="visible: mode() === 'spells', with: character">
                <h1>Spells <button type="button" class="btn-icon" data-bind="click: newItem(spells, constructors.Merit)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Value</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: spells">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.spells, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.spells, 1), enable: $index() < $parent.spells().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.spells)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><div class="attribute" data-bind="attribute: { value: value, max: 5 }"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="flawsContainer" data-bind="visible: mode() === 'flaws', with: character">
                <h1>Flaws <button type="button" class="btn-icon" data-bind="click: newItem(flaws, constructors.Merit)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Value</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: flaws">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.flaws, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.flaws, 1), enable: $index() < $parent.flaws().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.flaws)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><div class="attribute" data-bind="attribute: { value: value, max: 5 }"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="weaponsContainer" data-bind="visible: mode() === 'weapons', with: character">
                <h1>Weapons <button type="button" class="btn-icon" data-bind="click: newItem(weapons, constructors.Equipment)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: weapons">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.weapons, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.weapons, 1), enable: $index() < $parent.weapons().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.weapons)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: description" /></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="equipmentContainer" data-bind="visible: mode() === 'equipment', with: character">
                <h1>Equipment <button type="button" class="btn-icon" data-bind="click: newItem(equipment, constructors.Equipment)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: equipment">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.equipment, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.equipment, 1), enable: $index() < $parent.equipment().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.equipment)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: description" /></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="inventoryContainer" data-bind="visible: mode() === 'inventory', with: character">
                <h1>Inventory <button type="button" class="btn-icon" data-bind="click: newItem(inventory, constructors.InventoryItem)"><i class="fas fa-plus"></i></button></h1>
                <table class="table table-borderless">
                    <colgroup>
                        <col style="width: 1%" />
                        <col style="width: 1%" />
                        <col />
                        <col />
                        <col style="width: 1%" />
                    </colgroup>
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: inventory">
                        <tr>
                            <td>
                                <div class="btn-group-vertical">
                                    <button type="button" class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.inventory, -1), enable: $index() > 0"><i class="fas fa-chevron-up"></i></button>
                                    <button type="button" class="btn btn-sm btn-outline-light" data-bind="click: $parent.moveItem($parent.inventory, 1), enable: $index() < $parent.inventory().length - 1"><i class="fas fa-chevron-down"></i></button>
                                </div>
                            </td>
                            <td><button class="btn btn-outline-danger" data-bind="click: $parent.removeItem($parent.inventory)"><i class="fas fa-trash-alt"></i></button></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: name, focusOnCreation" /></td>
                            <td><input type="text" style="width: 100%;" data-bind="undoableTextInput: description" /></td>
                            <td><input type="number" style="width: 100%;" data-bind="undoableTextInput: quantity" /></td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
        <script src="app.bundle.js"></script>
    </body>
</html>